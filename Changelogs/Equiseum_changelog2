////////////////////////////////////////////////////////////////////
                      Testing of Equisetum
                            1.0 ----> ?
Before that seach patches matched Drofa, nets/interference were
                        tested in private

Drofa changelog:
https://github.com/justNo4b/Drofa/tree/master/Changelogs

////////////////////////////////////////////////////////////////////

------------------------------------------------------------------
1. Double extend every-nonPV node (1.1)
------------------------------------------------------------------
Elo   | 12.16 +- 7.51 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.96 (-2.94, 2.94) [0.00, 4.00]
Games | N: 4060 W: 1074 L: 932 D: 2054
Penta | [7, 416, 1048, 546, 13]
------------------------------------------------------------------
2. Tweak improving definition at ply = 2, check (ply - 4) when
(ply - 2) is in check and add improving adjustment in probcut (v1.2)

NOTE: All this passed STC separately and failed yellow STC.
Combination of all passed LTC
------------------------------------------------------------------
Elo   | 3.82 +- 3.34 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.97 (-2.94, 2.94) [0.00, 3.00]
Games | N: 20846 W: 5350 L: 5121 D: 10375
Penta | [101, 2375, 5259, 2570, 118]
------------------------------------------------------------------
3. Change Net to equi_1024x2F_5.6B_430.nnue.
It uses additional data from recent experiments, as well as
old DFRC data (v. 1.3)
------------------------------------------------------------------
Normal Chess:
Elo   | 4.22 +- 3.08 (95%)
SPRT  | 8.0+0.08s Threads=1 Hash=8MB
LLR   | 2.99 (-2.94, 2.94) [0.00, 4.00]
Games | N: 18596 W: 5405 L: 5179 D: 8012
Penta | [332, 2085, 4242, 2303, 336]

DFRC:
Elo   | 110.33 +- 19.87 (95%)
SPRT  | 8.0+0.08s Threads=1 Hash=8MB
LLR   | 3.16 (-2.94, 2.94) [0.00, 4.00]
Games | N: 794 W: 392 L: 148 D: 254
Penta | [12, 44, 114, 142, 85]

DFRC vs Current best DFRC net (x768):
Elo   | 10.58 +- 5.56 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.95 (-2.94, 2.94) [0.00, 4.00]
Games | N: 6144 W: 1678 L: 1491 D: 2975
Penta | [122, 657, 1350, 798, 145]
------------------------------------------------------------------
4. Change Net to equi_1024x2F_6.5B_430.nnue.
It uses additionaly generated data, as well as
new DFRC data (v. 1.4)
------------------------------------------------------------------
Normal Chess:
Elo   | 2.17 +- 1.71 (95%)
SPRT  | 8.0+0.08s Threads=1 Hash=8MB
LLR   | 3.02 (-2.94, 2.94) [0.00, 4.00]
Games | N: 60666 W: 17736 L: 17357 D: 25573
Penta | [1072, 7080, 13736, 7287, 1158]

DFRC:
Elo   | 8.09 +- 4.94 (95%)
SPRT  | 8.0+0.08s Threads=1 Hash=8MB
LLR   | 2.98 (-2.94, 2.94) [0.00, 4.00]
Games | N: 9578 W: 2898 L: 2675 D: 4005
Penta | [288, 1085, 1882, 1184, 350]
------------------------------------------------------------------
5. Simplify scoring promotions, should help with moving towards
staged (1.5)
------------------------------------------------------------------
Elo   | 0.08 +- 1.44 (95%)
SPRT  | 8.0+0.08s Threads=1 Hash=8MB
LLR   | 2.95 (-2.94, 2.94) [-3.00, 1.00]
Games | N: 78640 W: 21533 L: 21515 D: 35592
------------------------------------------------------------------
6. Scale evaluation based on 50-move rule counter (1.6)
------------------------------------------------------------------
Elo   | 3.64 +- 2.66 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.96 (-2.94, 2.94) [0.00, 4.00]
Games | N: 18146 W: 4764 L: 4574 D: 8808
------------------------------------------------------------------
7. Tweak ttDepth for singular extensions (1.7)
------------------------------------------------------------------
Elo   | 5.04 +- 3.30 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.95 (-2.94, 2.94) [0.00, 4.00]
Games | N: 11654 W: 3007 L: 2838 D: 5809
------------------------------------------------------------------
8. Simplify check extensions away (1.8)
------------------------------------------------------------------
Elo   | 0.08 +- 1.26 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.98 (-2.94, 2.94) [-3.00, 1.00]
Games | N: 78646 W: 20007 L: 19990 D: 38649
Penta | [319, 9317, 20089, 9224, 374]
------------------------------------------------------------------
9. Various improvements to datagen (SPSA at 5k nodes, fix null
moves) and generated ~5.5B data (data v6, datagen style - arvense)

(v 1.9.arvense)
------------------------------------------------------------------
Elo   | 15.59 +- 6.45 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.95 (-2.94, 2.94) [0.00, 4.00]
Games | N: 3434 W: 1020 L: 866 D: 1548
Penta | [22, 356, 818, 488, 33]
------------------------------------------------------------------
10. Implement NNUEs with king buckets. Use 7 buckets.
Telmateia - style nets (v 1.10.telmateia)
------------------------------------------------------------------
Elo   | 23.81 +- 7.88 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.98 (-2.94, 2.94) [0.00, 4.00]
Games | N: 2134 W: 649 L: 503 D: 982
Penta | [8, 191, 538, 307, 23]
------------------------------------------------------------------
11. Evaluate positions in check during main search loop (1.11)
------------------------------------------------------------------
Elo   | 0.08 +- 1.25 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.97 (-2.94, 2.94) [-3.00, 1.00]
Games | N: 77448 W: 19502 L: 19484 D: 38462
Penta | [273, 9065, 20050, 9043, 293]
------------------------------------------------------------------
12. Cleanup and simplify history bonuses (1.12)
------------------------------------------------------------------
Elo   | -0.40 +- 1.09 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 0.74 (-2.94, 2.94) [-3.00, 1.00]
Games | N: 103202 W: 25616 L: 25736 D: 51850
Penta | [388, 12263, 26388, 12205, 357]
------------------------------------------------------------------
13. Reset only half of accumulator instead of full reset (1.13)
------------------------------------------------------------------
Elo   | 13.91 +- 6.09 (95%)
SPRT  | 8.0+0.08s Threads=1 Hash=8MB
LLR   | 3.02 (-2.94, 2.94) [0.00, 4.00]
Games | N: 4122 W: 1195 L: 1030 D: 1897
Penta | [39, 430, 972, 567, 53]
http://chess.grantnet.us/test/38048/
------------------------------------------------------------------
14. Punish history less when we are expected to not fail low (1.14)
------------------------------------------------------------------
Elo   | 2.99 +- 2.29 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.97 (-2.94, 2.94) [0.00, 4.00]
Games | N: 23334 W: 5925 L: 5724 D: 11685
Penta | [88, 2610, 6075, 2801, 93]
http://chess.grantnet.us/test/38064/
------------------------------------------------------------------
15. Train new net using 7B data genearated with Telmateia net (1.15)
------------------------------------------------------------------
Normal chess:
Elo   | 25.95 +- 8.11 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.95 (-2.94, 2.94) [0.00, 4.00]
Games | N: 1878 W: 562 L: 422 D: 894
Penta | [5, 157, 485, 277, 15]
DFRC:
Elo   | 26.84 +- 8.72 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.97 (-2.94, 2.94) [0.00, 4.00]
Games | N: 2062 W: 547 L: 388 D: 1127
Penta | [18, 183, 491, 300, 39]
------------------------------------------------------------------
16. Cleanup old HCE eval. Probably a small speedup (1.16)
------------------------------------------------------------------
Elo   | 4.26 +- 4.05 (95%)
SPRT  | 8.0+0.08s Threads=1 Hash=8MB
LLR   | 2.97 (-2.94, 2.94) [-4.00, 0.00]
Games | N: 9622 W: 2626 L: 2508 D: 4488
Penta | [119, 1100, 2254, 1220, 118]
------------------------------------------------------------------
17. Implement staged movegen (only for TT move). As a
simplification implements separate probcut movepicker (1.17)
------------------------------------------------------------------
LTC:
Elo   | 8.00 +- 4.32 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.95 (-2.94, 2.94) [0.00, 4.00]
Games | N: 6604 W: 1717 L: 1565 D: 3322
Penta | [19, 719, 1683, 853, 28]
http://chess.grantnet.us/test/38991/

SMP LTC:
Elo   | 8.00 +- 4.32 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.95 (-2.94, 2.94) [0.00, 4.00]
Games | N: 6604 W: 1717 L: 1565 D: 3322
Penta | [19, 719, 1683, 853, 28]
http://chess.grantnet.us/test/38991/

Seems to be stable.
------------------------------------------------------------------
18. Fix move on search stack being not exactly null moves (1.18)
------------------------------------------------------------------
Elo   | 1.07 +- 2.35 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.96 (-2.94, 2.94) [-4.00, 0.00]
Games | N: 21782 W: 5470 L: 5403 D: 10909
------------------------------------------------------------------
19. Dont use ttMove in probcut picker (1.19)
------------------------------------------------------------------
Elo   | -0.34 +- 1.55 (95%)
SPRT  | 8.0+0.08s Threads=1 Hash=8MB
LLR   | 2.97 (-2.94, 2.94) [-4.00, 0.00]
Games | N: 63808 W: 16719 L: 16782 D: 30307
------------------------------------------------------------------
20. Simplify history and fix values overflow (1.20)
------------------------------------------------------------------
Elo   | -1.30 +- 1.63 (95%)
SPRT  | 8.0+0.08s Threads=1 Hash=8MB
LLR   | 0.57 (-2.94, 2.94) [-5.00, 0.00]
Games | N: 57632 W: 15069 L: 15284 D: 27279
------------------------------------------------------------------
21. Introduce SEE-pruning for captures
------------------------------------------------------------------
Elo   | 2.57 +- 2.04 (95%)
SPRT  | 8.0+0.08s Threads=1 Hash=8MB
LLR   | 3.02 (-2.94, 2.94) [0.00, 4.00]
Games | N: 36324 W: 9644 L: 9375 D: 17305
------------------------------------------------------------------
22. BugFix: When proving singularity, dont try ttMove (1.22)
------------------------------------------------------------------
Elo   | 0.69 +- 1.94 (95%)
SPRT  | 8.0+0.08s Threads=1 Hash=8MB
LLR   | 2.97 (-2.94, 2.94) [-3.00, 1.00]
Games | N: 40838 W: 10774 L: 10693 D: 19371
------------------------------------------------------------------
23. Decrease depth when in cutnodes when ttmove is not singular
move (1.23)
------------------------------------------------------------------
Elo   | 2.64 +- 2.07 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.95 (-2.94, 2.94) [0.00, 4.00]
Games | N: 27648 W: 6905 L: 6695 D: 14048
------------------------------------------------------------------
24. Use static evaluation difference to improve quiet move ordering
Idea from SF, thanks Vizvezdenec (1.24)
------------------------------------------------------------------
Elo   | 2.31 +- 1.85 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.95 (-2.94, 2.94) [0.00, 4.00]
Games | N: 34330 W: 8516 L: 8288 D: 17526
------------------------------------------------------------------
25. Train new net using 7B data genearated with previous net (1.25)
------------------------------------------------------------------
Neutral at STC:
Elo   | 0.58 +- 1.36 (95%)
SPRT  | 8.0+0.08s Threads=1 Hash=8MB
LLR   | -3.01 (-2.94, 2.94) [0.00, 4.00]
Games | N: 89240 W: 24693 L: 24543 D: 40004
http://chess.grantnet.us/test/39574/

Much worse at DFRC STC:
Elo   | -17.85 +- 8.09 (95%)
SPRT  | 8.0+0.08s Threads=1 Hash=8MB
LLR   | -2.99 (-2.94, 2.94) [0.00, 4.00]
Games | N: 3136 W: 759 L: 920 D: 1457
http://chess.grantnet.us/test/39575/

Passed STD LTC:
Elo   | 3.80 +- 2.72 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.98 (-2.94, 2.94) [0.00, 4.00]
Games | N: 16846 W: 4407 L: 4223 D: 8216
Penta | [59, 1911, 4317, 2059, 77]
http://chess.grantnet.us/test/39577/
------------------------------------------------------------------
26. Reduce less in pv node or nodes that were in pv previously (1.26)
------------------------------------------------------------------
Elo   | 4.88 +- 3.19 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.97 (-2.94, 2.94) [0.00, 4.00]
Games | N: 11752 W: 2934 L: 2769 D: 6049
Penta | [22, 1322, 3042, 1449, 41]
http://chess.grantnet.us/test/39609/
------------------------------------------------------------------
27. Implement Follow-up history for ordering quiet moves (1.27)
------------------------------------------------------------------
Elo   | 3.97 +- 2.79 (95%)
SPRT  | 40.0+0.40s Threads=1 Hash=64MB
LLR   | 2.96 (-2.94, 2.94) [0.00, 4.00]
Games | N: 15314 W: 3792 L: 3617 D: 7905
Penta | [37, 1725, 3966, 1884, 45]
http://chess.grantnet.us/test/39619/
------------------------------------------------------------------
28. Implement FinnyTables from Koivisto for accumulator updates (1.28)
------------------------------------------------------------------
Elo   | 8.94 +- 4.83 (95%)
SPRT  | 8.0+0.08s Threads=1 Hash=8MB
LLR   | 2.95 (-2.94, 2.94) [0.00, 4.00]
Games | N: 6572 W: 1793 L: 1624 D: 3155
Penta | [60, 738, 1545, 859, 84]
http://chess.grantnet.us/test/39635/
------------------------------------------------------------------